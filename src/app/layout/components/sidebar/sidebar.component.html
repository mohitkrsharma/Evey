<div id="sidebar">
  <div class="ps" style="position: relative; height: 100%;">
    <div>
      <div class="logged-user">
        <div class="item user-block">
          <div class="user-block-picture">
            <div class="user-block-status">
              <div class="avatar-circle avadar-small" (click)="redirectToEditUser()"><span
                  class="initials">{{captionName | uppercase}}</span>
              </div>
            </div>
          </div>
          <div class="user-block-info">
            <span class="user-block-name">{{username}}</span>
          </div>
        </div>
      </div>

      <mat-nav-list>
        <!-- Dashboard -->
        <a mat-list-item [routerLink]="['/dashboard']"
          [ngClass]="{'active': tasksActive.isActive || dashboardActive.isActive }">
          <span class="svg-wrapper">

            <!-- <img width="22" height="20.321" src="./assets/images/sidenav/dashboard-menu-icon-white.svg" alt="dashboard"> -->
            <img width="22" height="20.321"
              src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/dashboard-menu-icon-white.svg"
              alt="dashboard">


          </span>
          <span>{{'Dashboard'}}</span>
        </a>

        <!-- Announcment -->
        <a *ngIf="checkAllModuleAccess('Announcement')" mat-list-item [routerLinkActive]="'active'"
          [routerLink]="['/announcement']" (click)="onLinkClick('ANNOUNCE')">
          <span class="svg-wrapper">
            <!-- <img width="22" height="20.321" src="./assets/images/sidenav/announcements-menu-icon-white.svg" alt="announcement"> -->
            <img width="22" height="20.321"
              src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/announcements-menu-icon-white.svg"
              alt="announcement">
          </span>
          <span>
            {{ 'Announcement' }}
          </span>
          <!-- <mat-icon svgIcon="bullhorn-outline"></mat-icon>-->
        </a>

        <!-- priviledge condition for orders -->
        <!-- *ngIf="_commonService.checkPrivilegeModule('orders')" -->
        <!-- Order -->
        <a *ngIf="checkAllModuleAccess('Order Management')" mat-list-item [routerLinkActive]="'active'"
          [routerLink]="['/ordersToFile']" (click)="onLinkClick('EMAR')">
          <span class="svg-wrapper">
            <!-- <img width="22" height="20.321" src="./assets/images/sidenav/orders-to-file-icon.png" alt="orders"> -->
            <img width="22" height="20.321"
              src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/orders-to-file-icon.png"
              alt="orders">
          </span>
          <div class="d-flex justify-content-between">
            <span>
              {{ 'Orders To File' }}
            </span>
            <span *ngIf="unlinkOrderCount > 0" class="badge pending">{{unlinkOrderCount}}</span>
          </div>

        </a>

        <!-- Scheduling -->
        <mat-expansion-panel *ngIf="checkAllModuleAccess('Scheduling')" [(expanded)]="careXpandStatus"
          [class.mat-elevation-z0]="true" dense>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="svg-wrapper">

                <!-- <img width="22" height="20.321" src="./assets/images/sidenav/calendar-menu-icon-white.svg" alt="scheduling"> -->
                <img width="22" height="20.321"
                  src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/calendar-menu-icon-white.svg"
                  alt="scheduling">
              </span>
              <span>{{ 'Care Schedule' }}</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-nav-list dense class="sub_nav">
            <a *ngIf="checkPrivilegeModule('scheduling','view')" mat-list-item href="javascript:void(0)"
              (click)="dayClicked()">
              <span> {{ "Today's Schedule" }}</span>
            </a>

            <a *ngIf="checkPrivilegeModule('scheduling','add')" mat-list-item [routerLink]="['/scheduling/create']"
              (click)="onLinkClick('')">
              <span>{{ 'Schedule Care' }}</span>
            </a>

            <a *ngIf="checkPrivilegeModule('scheduling','view')" mat-list-item [routerLink]="['/scheduling']"
              (click)="onLinkClick('')">
              <span>{{ 'Calendar' }}</span>
            </a>

            <!-- <a mat-list-item [routerLink]="['/scheduling/rulecare']"> -->
            <!-- <a mat-list-item href="javascript:void(0)" disabled>
              <span class="unused">{{ 'Rules' }}</span>
            </a> -->
          </mat-nav-list>
        </mat-expansion-panel>


        <!-- Activity Scheduling -->
        <mat-expansion-panel *ngIf="checkAllModuleAccess('Activity Schedule')" [(expanded)]="activityXpandStatus"
          [class.mat-elevation-z0]="true" dense>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="svg-wrapper">
                <img width="22" height="20.321"
                  src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/calendar-menu-icon-white.svg"
                  alt="activity">
              </span>
              <span>{{ 'Activity Schedule' }}</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-nav-list dense class="sub_nav">
            <a *ngIf="checkPrivilegeModule('Activity Schedule','view')" mat-list-item href="javascript:void(0)"
              (click)="dayClicked('activity')">
              <span> {{ "Today's Activities" }}</span>
            </a>

            <a *ngIf="checkPrivilegeModule('Activity Schedule','add')" mat-list-item
              [routerLink]="['/activity-scheduling/create']" (click)="onLinkClick('')">
              <span>{{ 'Schedule Activity' }}</span>
            </a>

            <a *ngIf="checkPrivilegeModule('Activity Schedule','view')" mat-list-item
              [routerLink]="['/activity-scheduling']" (click)="onLinkClick('')">
              <span>{{ 'Calendar' }}</span>
            </a>
          </mat-nav-list>
        </mat-expansion-panel>

        <!-- priviledge condition for medication -->
        <!-- *ngIf="_commonService.checkPrivilegeModule('medications')" -->
        <!-- Medication -->
        <!-- <a  mat-list-item [routerLinkActive]="'active'" [routerLink]="['/medications']">
           <span class="svg-wrapper">
                    <img width="22" height="20.321" src="./assets/images/sidenav/reports-menu-icon-white.svg" alt="medications">
           </span>
           <span>
             {{ 'Medication Management' }}
           </span>
         </a> -->




        <!-- Resident -->
        <!-- <a *ngIf="checkAllModuleAccess('Residents')" mat-list-item [routerLinkActive]="'active'"
          [routerLink]="['/residents']" (click)="onLinkClick('RESI')">

          <img width="22" height="20.321" src="./assets/images/sidenav/residents-menu-icon-white.svg" alt="residents">
          <span style="margin-left: 12px;">
            {{ 'Residents' }}
          </span>
        </a> -->

        <mat-expansion-panel [(expanded)]="residentXpandStatus">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="svg-wrapper">

                <!-- <img width="22" height="20.321" src="./assets/images/sidenav/residents-menu-icon-white.svg" alt="Residents"> -->
                <img width="22" height="20.321"
                  src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/residents-menu-icon-white.svg"
                  alt="Residents">
              </span>
              <span>{{ 'Residents' }}</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-nav-list dense class="sub_nav">
            <!-- <a mat-list-item
              [routerLink]="['/residents']" (click)="onLinkClick('RESI')">
              <img width="22" height="20.321" src="./assets/images/sidenav/residents-menu-icon-white.svg" alt="residents">
              <span>{{ 'Resident Profile' }}</span>
            </a> -->

            <a *ngIf="checkAllModuleAccess('Residents')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/residents']" (click)="onLinkClick('RESI')">

              <!-- IO-1452 -->
              <!-- <img width="22" height="20.321" src="./assets/images/sidenav/residents-menu-icon-white.svg"
                alt="residents"> -->
              <span>
                {{ 'Resident Profiles' }}
              </span>
            </a>

            <!-- <a *ngIf="checkPrivilegeModule('scheduling','add')" mat-list-item
              [routerLink]="['/scheduling/create']" (click)="onLinkClick('')">
              <span>{{ 'Units' }}</span>
            </a> -->
            <a *ngIf="checkAllModuleAccess('Zones')" mat-list-item [routerLink]="['/units']"
              [routerLinkActive]="'active'" (click)="onLinkClick('MASTER')">
              <!-- <span class="svg-wrapper"> -->
              <!-- IO-1452 -->
              <!-- <img width="22" height="20.321" src="./assets/images/sidenav/zones-menu-icon.svg" alt="Zones"> -->
              <!-- <img width="22" height="20.321" src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/zones-menu-icon.svg" alt="Zones"> -->
              <!-- </span> -->
              <span>
                {{ 'Units' }}
              </span>
            </a>
          </mat-nav-list>
        </mat-expansion-panel>

        <!-- Reports -->
        <a *ngIf="checkPrivilegeModule('reports','view')" mat-list-item [routerLinkActive]="'active'"
          [routerLink]="['/reports']" (click)="onLinkClick()">
          <span class="svg-wrapper">

            <!-- <img width="22" height="20.321" src="./assets/images/sidenav/reports-menu-icon-white.svg" alt="reports"> -->
            <img width="22" height="20.321"
              src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/reports-menu-icon-white.svg"
              alt="reports">
          </span>
          <span>
            {{ 'Reports' }}
          </span>
        </a>


        <!-- <a *ngIf="checkAllModuleAccess('Zones')" mat-list-item [routerLinkActive]="'active'" [routerLink]="['/zones']"
          (click)="onLinkClick('MASTER')">
          <span class="svg-wrapper">
            <img width="22" height="20.321" src="./assets/images/sidenav/zones-menu-icon.svg" alt="Zones">
          </span>
          <span>
            {{ 'Zones' }}
          </span>
        </a> -->

        <!-- User Access -->
        <mat-expansion-panel [(expanded)]="accessXpandStatus" *ngIf="checkAllModuleAccess('Users')
        || checkAllModuleAccess('Visitors')" [class.mat-elevation-z0]="true" dense>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="svg-wrapper">
                <!-- <img width="22" height="20.321" src="./assets/images/sidenav/access-menu-icon-white.svg" alt="Access"> -->
                <img width="22" height="20.321"
                  src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/access-menu-icon-white.svg"
                  alt="Access">

              </span> <span>Access</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-nav-list dense class="sub_nav">
            <a *ngIf="checkAllModuleAccess('Users')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/users']" (click)="onLinkClick('MASTER')">
              <span>
                {{ 'Users' }}
              </span>
            </a>
            <a *ngIf="checkAllModuleAccess('Visitors')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/visitors']" disabled>

              <span class="unused">{{ 'Visitors' }}</span>
            </a>
            <a *ngIf="checkAllModuleAccess('Technical Support')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/technicalsupport']" style="display: none;">
              <span class="svg-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" width="19.313" height="15.264" viewBox="0 0 19.313 15.264">
                  <path
                    d="M12,1C7,1 3,5 3,10V17C3,18.66 4.34,20 6,20H9V12H5V10C5,6.13 8.13,3 12,3C15.87,3 19,6.13 19,10V12H15V20H19V21H12V23H18C19.66,23 21,21.66 21,20V10C21,5 16.97,1 12,1Z" />
                </svg>
              </span>
              <span>{{ 'Technical Support' }}</span>
            </a>
          </mat-nav-list>
        </mat-expansion-panel>

        <!-- Customization(Questionnaire,symptoms,diseases) -->
        <mat-expansion-panel [(expanded)]="custXpandStatus">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="svg-wrapper">
                <!-- <img width="22" height="20.321" src="./assets/images/sidenav/customize-menu-icon-white.svg" alt="Customization"> -->
                <img width="22" height="20.321"
                  src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/customize-menu-icon-white.svg"
                  alt="Customization">
              </span> <span>Customization</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-nav-list class="sub_nav">



            <!-- Physician Directory -->
            <a *ngIf="checkAllModuleAccess('Physician')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/physician/list']" (click)="onLinkClick('MASTER')">
              <span>
                {{ 'Physician Directory' }}
              </span>
            </a>

            <!-- Pharmacy Directory -->
            <a *ngIf="checkAllModuleAccess('Pharmacy')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/pharmacy/list']" (click)="onLinkClick('MASTER')">
              <span>
                {{ 'Pharmacy Directory' }}
              </span>
            </a>

            <!-- Hospital Directory -->
            <a mat-list-item *ngIf="checkAllModuleAccess('Hospital')" [routerLinkActive]="'active'"
              [routerLink]="['/hospital/list']" (click)="onLinkClick('MASTER')">
              <span>
                {{ 'Hospital/Lab Directory' }}
              </span>
            </a>

            <!-- Testing Device -->
            <a mat-list-item *ngIf="checkAllModuleAccess('Hospital')" [routerLinkActive]="'active'"
              [routerLink]="['/testingdevice/list']" (click)="onLinkClick('MASTER')">
              <span>
                {{ 'Testing Device' }}
              </span>
            </a>

            <!-- Kaushik Changes Start-->
            <!-- Goals -->
            <a *ngIf="checkPrivilegeModule('goals','view')" mat-list-item [routerLinkActive]="'active'"
              [class]="'submenunav'" [routerLink]="['/goals']" (click)="onLinkClick('MASTER')">
              <span class="svg-wrapper">

                <!-- removed IO-1294 -->
                <!-- <img width="22" height="20.321" src="./assets/images/sidenav/facilities-menu-icon.svg" alt="Goals"> -->
              </span>
              <span>{{ 'Goals' }}</span>
            </a>
            <!-- Kaushik changes ends-->

            <!-- Cares -->
            <a *ngIf="checkAllModuleAccess('Cares')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/cares']" (click)="onLinkClick('CARE')">

              <span>
                {{ 'Cares' }}
              </span>
            </a>

            <!-- Care Levels -->
            <a *ngIf="checkAllModuleAccess('Care Levels')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/cares_level']" (click)="onLinkClick('CARE')">

              <span>
                {{ 'Care Levels' }}
              </span>
            </a>

            <!-- Shifts -->
            <a *ngIf="checkAllModuleAccess('Shifts')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/shifts']" (click)="onLinkClick('SHIFT')">

              <span>
                {{ 'Shifts' }}
              </span>
            </a>

            <!-- Diseases -->
            <a *ngIf="checkAllModuleAccess('Diseases')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/diseases']" (click)="onLinkClick('MASTER')">
              <!-- <mat-icon style="pointer-events: all;">format_list_numbered</mat-icon> -->
              <span> {{ 'Diseases' }} </span>
            </a>

            <!-- Symptoms -->
            <a *ngIf="checkAllModuleAccess('Symptoms')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/symptoms']" (click)="onLinkClick('MASTER')">
              <!-- <mat-icon style="pointer-events: all;">format_list_numbered</mat-icon> -->
              <span> {{ 'Symptoms' }} </span>
            </a>

            <!-- Questionnaire -->
            <a *ngIf="checkAllModuleAccess('Questionnaires')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/createAQuestionnaire']" (click)="onLinkClick('QUE')">
              <!--  <mat-icon style="pointer-events: all;">format_list_numbered</mat-icon> -->
              <span> {{ 'Questionnaire' }} </span>
            </a>

            <!-- Assets -->
            <a mat-list-item [routerLinkActive]="'active'" [routerLink]="['/assets']"
              *ngIf="checkAllModuleAccess('Assets')" (click)="onLinkClick('MASTER')">
              <span>
                {{ 'Assets' }}
              </span>
            </a>


          </mat-nav-list>
        </mat-expansion-panel>

        <!-- Tracking(beacons,NFC,Gateways),Facility,floors/Sectors,Zone -->
        <mat-expansion-panel [(expanded)]="settingXpandStatus">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <!--  <mat-icon style="pointer-events: all;">settings</mat-icon> -->
              <span class="svg-wrapper">
                <!-- <img width="22" height="20.321" src="./assets/images/sidenav/settings-menu-icon-white.svg" alt="settings"> -->
                <img width="22" height="20.321"
                  src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/settings-menu-icon-white.svg"
                  alt="settings">
              </span>
              <span>{{ 'Settings' }}</span>

            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-nav-list class="sub_nav">
            <mat-expansion-panel *ngIf="checkAllModuleAccess('Beacons') || checkAllModuleAccess('NFC')">
              <mat-expansion-panel-header>
                <mat-panel-title class="sub_nav">
                  <span class="svg-wrapper">
                    <!--   <svg xmlns="http://www.w3.org/2000/svg" width="13.742" height="20" viewBox="0 0 13.742 20">
                      <path id="Path_18" data-name="Path 18"
                        d="M75.889,1038.358a6.871,6.871,0,0,0-13.2,2.674,8.4,8.4,0,0,0,.664,2.815,35.65,35.65,0,0,0,1.928,4.093c1.343,2.5,2.839,4.856,3.42,5.754a1.023,1.023,0,0,0,1.717,0c.581-.9,2.078-3.255,3.421-5.754a35.527,35.527,0,0,0,1.928-4.093,8.4,8.4,0,0,0,.664-2.815A6.832,6.832,0,0,0,75.889,1038.358Zm-4.172,4.909a3.052,3.052,0,1,1,.894-2.159A3.034,3.034,0,0,1,71.717,1043.267Z"
                        transform="translate(-62.687 -1034.161)" />
                    </svg> -->


                    <!-- <img width="22" height="20.321" src="./assets/images/sidenav/tracking-menu-icon.svg" alt="Tracking"> -->
                    <img width="22" height="20.321"
                      src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/tracking-menu-icon.svg"
                      alt="Tracking">

                  </span>
                  <span><span style="font-size: 12px;">{{ 'Tracking' }}</span></span>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <mat-nav-list>
                <a *ngIf="checkAllModuleAccess('NFC')" mat-list-item [routerLinkActive]="'active'"
                  [routerLink]="['/nfc']" (click)="onLinkClick('MASTER')">

                  <!--       <svg xmlns="http://www.w3.org/2000/svg" width="20" height="16.976" viewBox="0 0 20 16.976">
                      <g id="layer1" transform="translate(-115.17 -918.966)">

                        <path id="path3055"
                          d="M131.9,935.829a1.363,1.363,0,0,1-.4-.317,1.509,1.509,0,0,1-.207-.437,1.052,1.052,0,0,1-.027-.417c.022-.091.154-.436.294-.766s.376-.979.525-1.443.339-1.164.422-1.556.195-1.058.248-1.479a19.857,19.857,0,0,0,0-3.9c-.052-.414-.15-1.017-.216-1.341s-.2-.885-.3-1.246-.361-1.1-.579-1.639a4.136,4.136,0,0,1-.393-1.258.966.966,0,0,1,.138-.493,1.7,1.7,0,0,1,.343-.378.936.936,0,0,1,.529-.185,1.962,1.962,0,0,1,.474.012,1.235,1.235,0,0,1,.385.248,2.364,2.364,0,0,1,.506.836c.151.345.38.933.509,1.306s.327,1.049.44,1.5.262,1.159.33,1.569.151,1.068.184,1.461.06,1.091.06,1.55-.027,1.157-.06,1.55-.116,1.051-.184,1.461-.225,1.147-.35,1.639-.353,1.243-.508,1.669-.391,1-.527,1.281a1.978,1.978,0,0,1-.472.681.852.852,0,0,1-.566.2.986.986,0,0,1-.6-.108Zm-3.744-1.607a1.481,1.481,0,0,1-.457-.348.935.935,0,0,1-.315-.576,1.108,1.108,0,0,1,.15-.738c.106-.248.31-.789.452-1.2a13.811,13.811,0,0,0,.41-1.491,16.1,16.1,0,0,0,.217-1.6,9.37,9.37,0,0,0,0-1.669c-.037-.448-.134-1.143-.215-1.546s-.231-.992-.333-1.31-.287-.813-.412-1.1a6.158,6.158,0,0,1-.267-.708,1.139,1.139,0,0,1,.033-.449,1.255,1.255,0,0,1,.308-.5,1.442,1.442,0,0,1,.446-.3,1.362,1.362,0,0,1,.48-.04,1.224,1.224,0,0,1,.515.2,1.4,1.4,0,0,1,.44.563c.107.214.3.677.434,1.028s.331.993.442,1.426.25,1.1.309,1.473a9.049,9.049,0,0,1,.191,2,11.44,11.44,0,0,1-.223,2.411c-.076.44-.226,1.125-.335,1.52s-.308,1-.442,1.345-.318.772-.409.951a1.387,1.387,0,0,1-.413.5,1,1,0,0,1-.535.193,1.621,1.621,0,0,1-.472-.037Zm-4.048-2.138a1.644,1.644,0,0,1-.31-.116c-.073-.039-.73-.532-1.461-1.1l-2.522-1.947c-.656-.506-1.411-1.064-1.678-1.239a2.671,2.671,0,0,0-.581-.318c-.078,0-.095.076-.095.433a7.318,7.318,0,0,0,.149,1.147,7.105,7.105,0,0,1,.149,1.128,1.436,1.436,0,0,1-.124.672,1.181,1.181,0,0,1-.3.383,1.07,1.07,0,0,1-.4.156.754.754,0,0,1-.467-.093,2.056,2.056,0,0,1-.485-.4,2.32,2.32,0,0,1-.363-.6,8.838,8.838,0,0,1-.253-.933,6.845,6.845,0,0,1-.2-1.946,6.717,6.717,0,0,1,.2-1.916,5.941,5.941,0,0,1,.284-.954,2.184,2.184,0,0,1,.28-.467,1.31,1.31,0,0,1,.292-.224.868.868,0,0,1,.335-.084.891.891,0,0,1,.4.153c.124.084.94.709,1.812,1.389s2.23,1.733,3.017,2.341,1.516,1.166,1.62,1.242a.421.421,0,0,0,.276.1c.052-.02.112-.184.15-.41.035-.208.079-.529.1-.715a6.127,6.127,0,0,0-.029-.943,9.407,9.407,0,0,0-.205-1.153,9.517,9.517,0,0,0-.328-1,4.7,4.7,0,0,1-.25-.834,1.356,1.356,0,0,1,.007-.646,1.381,1.381,0,0,1,.265-.47.613.613,0,0,1,.5-.241,1.194,1.194,0,0,1,.489.045,1.958,1.958,0,0,1,.477.4,3.669,3.669,0,0,1,.5.754c.112.237.3.711.412,1.055s.257.853.318,1.131a8.1,8.1,0,0,1,0,3.339c-.061.279-.177.718-.258.977s-.241.674-.355.924a3.079,3.079,0,0,1-.338.594,2.3,2.3,0,0,1-.282.249.984.984,0,0,1-.358.139,1.213,1.213,0,0,1-.385-.014Z"
                          transform="translate(0 0)" />
                      </g>
                    </svg> -->



                  <span>
                    {{ 'NFC' }}
                  </span>
                </a>
                <a *ngIf="checkAllModuleAccess('Beacons')" mat-list-item [routerLinkActive]="'active'"
                  [routerLink]="['/beacons']" (click)="onLinkClick('MASTER')">





                  <span>{{ 'Beacons' }}</span>
                </a>
                <a mat-list-item href="javascript:void(0)" disabled>
                  <span class="unused">
                    {{ 'Door Monitoring' }}
                  </span>
                </a>
                <a *ngIf="checkAllModuleAccess('User Positioning')" mat-list-item [routerLinkActive]="'active'"
                  [routerLink]="['/userPositioning']" (click)="onLinkClick('')">
                  <span>
                    {{ 'User Positioning' }}
                  </span>
                </a>
              </mat-nav-list>
            </mat-expansion-panel>


            <a *ngIf="checkAllModuleAccess('Zones')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/zones']" [class]="'submenunav'" (click)="onLinkClick('MASTER')">
              <span class="svg-wrapper">
              </span>
              <span>{{ 'Zones' }}</span>
            </a>
            <a *ngIf="checkAllModuleAccess('Floors/Sectors')" mat-list-item [routerLinkActive]="'active'"
              [class]="'submenunav'" [routerLink]="['/floorsector']" (click)="onLinkClick('MASTER')">
              <span class="svg-wrapper">
              </span> <span>
                {{ 'Floors/Sectors' }}
              </span>

            </a>
            <a *ngIf="checkAllModuleAccess('Facility')" mat-list-item [routerLinkActive]="'active'"
              [class]="'submenunav'" [routerLink]="['/facility']" (click)="onLinkClick('MASTER')">
              <span class="svg-wrapper">
              </span>
              <span>{{ 'Buildings' }}</span>
            </a>
            <a *ngIf="checkAllModuleAccess('Facility')" mat-list-item [routerLinkActive]="'active'"
              [class]="'submenunav'" [routerLink]="['/location']" (click)="onLinkClick('MASTER')">
              <span class="svg-wrapper">
              </span>
              <span>{{ 'Locations' }}</span>
            </a>


          </mat-nav-list>
        </mat-expansion-panel>

        <!-- Global setting(Roles,Build restriction,Organization) -->
        <!--  <mat-expansion-panel *ngIf="_commonService.checkPrivilegeModule('organization') || haveData.role!=undefined && haveData.role=='Administrator"> -->
        <mat-expansion-panel [(expanded)]="globSettingXpandStatus">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <!-- <mat-icon style="pointer-events: all;">settings</mat-icon> -->

              <span class="svg-wrapper">

                <!-- <img width="22" height="20.321" src="./assets/images/sidenav/global-menu-icon-white.svg" alt="dashboard"> -->
                <img width="22" height="20.321"
                  src="https://evey-io.s3.us-east-2.amazonaws.com/menu_icons/dashboard/global-menu-icon-white.svg"
                  alt="dashboard">
              </span>
              <span>{{ 'Global Settings' }}</span>

            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-nav-list class="sub_nav">
            <!-- Permissions -->
            <a *ngIf="_commonService.checkRolesPosition('Permission', haveData.position_id)" mat-list-item
              [routerLinkActive]="'active'" [routerLink]="['/settings/roles']" (click)="onLinkClick('')">
              <!--  <mat-icon style="pointer-events: all;">settings</mat-icon> -->
              <span> {{ 'Permissions' }} </span>
            </a>
            <!-- App Version Control -->
            <a *ngIf="checkAllModuleAccess('Mobile App Version')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/settings/build_restriction']" (click)="onLinkClick('')">
              <!-- <mat-icon style="pointer-events: all;">settings</mat-icon> -->
              <span>{{'App Version Control'}}</span>
            </a>

            <a *ngIf="checkAllModuleAccess('Organization')" mat-list-item [routerLinkActive]="'active'"
              [routerLink]="['/org']" (click)="onLinkClick('MASTER')">
              <!-- <mat-icon svgIcon="google-circles-extended"></mat-icon> -->

              <!-- <svg xmlns="http://www.w3.org/2000/svg" width="19.313" height="15.264" viewBox="0 0 19.313 15.264">
                  <path
                    d="M18,19C16.89,19 16,18.1 16,17C16,15.89 16.89,15 18,15C19.1,15 20,15.9 20,17C20,18.1 19.1,19 18,19M18,13C15.79,13 14,14.79 14,17C14,19.21 15.79,21 18,21C20.21,21 22,19.21 22,17C22,14.79 20.21,13 18,13M12,11.1C10.95,11.1 10.1,11.95 10.1,13C10.1,14.05 10.95,14.9 12,14.9C13.05,14.9 13.9,14.05 13.9,13C13.9,11.95 13.05,11.1 12,11.1M6,19C4.89,19 4,18.1 4,17C4,15.89 4.89,15 6,15C7.1,15 8,15.9 8,17C8,18.1 7.1,19 6,19M6,13C3.79,13 2,14.79 2,17C2,19.21 3.79,21 6,21C8.21,21 10,19.21 10,17C10,14.79 8.21,13 6,13M12,4C13.1,4 14,4.9 14,6C14,7.1 13.1,8 12,8C10.89,8 10,7.1 10,6C10,4.89 10.89,4 12,4M12,10C14.21,10 16,8.21 16,6C16,3.79 14.21,2 12,2C9.79,2 8,3.79 8,6C8,8.21 9.79,10 12,10Z" />
                </svg> -->

              <span>{{ 'Organizations' }}</span>
            </a>
          </mat-nav-list>
        </mat-expansion-panel>


        <a routerLink="/open-visits" routerLinkActive #tasksActive="routerLinkActive" style="display: none"></a>
        <a routerLink="/dashboard" routerLinkActive [routerLinkActiveOptions]="{exact: true}"
          #dashboardActive="routerLinkActive" style="display: none"></a>



        <!-- Old Tracking -->
        <!--  <mat-expansion-panel [class.mat-elevation-z0]="true" dense>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="svg-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" width="13.742" height="20" viewBox="0 0 13.742 20">
                  <path id="Path_18" data-name="Path 18"
                    d="M75.889,1038.358a6.871,6.871,0,0,0-13.2,2.674,8.4,8.4,0,0,0,.664,2.815,35.65,35.65,0,0,0,1.928,4.093c1.343,2.5,2.839,4.856,3.42,5.754a1.023,1.023,0,0,0,1.717,0c.581-.9,2.078-3.255,3.421-5.754a35.527,35.527,0,0,0,1.928-4.093,8.4,8.4,0,0,0,.664-2.815A6.832,6.832,0,0,0,75.889,1038.358Zm-4.172,4.909a3.052,3.052,0,1,1,.894-2.159A3.034,3.034,0,0,1,71.717,1043.267Z"
                    transform="translate(-62.687 -1034.161)" />
                </svg>

              </span>
              <span><span>{{ 'Tracking' }}</span></span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-nav-list dense>
            <a *ngIf="_commonService.checkPrivilegeModule('beacons')" mat-list-item [routerLinkActive]="'active'" [routerLink]="['/beacons']">
              <span class="svg-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" width="19.824" height="19.773" viewBox="0 0 19.824 19.773">
                  <g transform="translate(-2.507 -974.479)">
                    <g transform="translate(2.487 974.396)">
                      <path class="a" d="M11.577,994.126a9.625,9.625,0,1,1,2,0l-.082-.8a8.826,8.826,0,1,0-1.833,0Z"
                        transform="translate(-2.648 -974.557)" />
                      <path class="a"
                        d="M13.412,994.252a.286.286,0,0,1-.284-.257l-.082-.8a.285.285,0,0,1,.255-.313,8.541,8.541,0,1,0-1.773,0,.286.286,0,0,1,.255.313l-.082.8a.285.285,0,0,1-.1.192.28.28,0,0,1-.21.063,9.912,9.912,0,1,1,2.055,0Zm.231-.833.024.23a9.345,9.345,0,1,0-2.5,0l.024-.23a9.108,9.108,0,1,1,2.458,0Z"
                        transform="translate(-2.487 -974.396)" />
                    </g>
                    <g transform="translate(5.3 977.216)">
                      <path class="a" d="M13.054,992.856a6.816,6.816,0,1,1,2.213,0l-.129-.791a6.02,6.02,0,1,0-1.956,0Z"
                        transform="translate(-7.045 -978.965)" />
                      <path class="a"
                        d="M15.107,992.981a.285.285,0,0,1-.281-.24l-.129-.791a.286.286,0,0,1,.235-.327,5.731,5.731,0,1,0-1.863,0,.286.286,0,0,1,.235.327l-.129.791a.289.289,0,0,1-.116.186.28.28,0,0,1-.213.05,7.107,7.107,0,1,1,2.307,0A.277.277,0,0,1,15.107,992.981ZM14,979.375a6.565,6.565,0,0,0-1.346,12.986l.037-.228a6.3,6.3,0,1,1,2.609,0l.037.228A6.567,6.567,0,0,0,18.629,981.3,6.491,6.491,0,0,0,14,979.375Z"
                        transform="translate(-6.884 -978.804)" />
                    </g>
                    <g transform="translate(8.112 980.042)">
                      <path class="a" d="M14.223,991.423a4.015,4.015,0,1,1,3.04,0l-.3-.741a3.214,3.214,0,1,0-2.435,0Z"
                        transform="translate(-11.442 -983.383)" />
                      <path class="a"
                        d="M17.1,991.549a.281.281,0,0,1-.111-.022.286.286,0,0,1-.154-.155l-.3-.741a.285.285,0,0,1,.156-.372,2.927,2.927,0,1,0-2.218,0,.289.289,0,0,1,.155.155.285.285,0,0,1,0,.219l-.3.74a.287.287,0,0,1-.372.156,4.3,4.3,0,1,1,3.257,0,.292.292,0,0,1-.113.02Zm.067-.881.086.213a3.728,3.728,0,1,0-3.345,0l.088-.213a3.5,3.5,0,1,1,3.171,0Z"
                        transform="translate(-11.281 -983.222)" />
                    </g>
                    <g transform="translate(10.524 982.448)">
                      <path class="a" d="M17.1,987.4a1.612,1.612,0,1,1-1.137.473A1.612,1.612,0,0,1,17.1,987.4Z"
                        transform="translate(-15.212 -987.134)" />
                      <path class="a"
                        d="M16.944,990.758a1.9,1.9,0,0,1-1.339-3.235,1.933,1.933,0,0,1,2.678,0,1.9,1.9,0,0,1-1.339,3.235Zm0-3.222a1.325,1.325,0,0,0-.935,2.261,1.346,1.346,0,0,0,1.868,0,1.326,1.326,0,0,0-.934-2.261Z"
                        transform="translate(-15.051 -986.984)" />
                    </g>
                  </g>
                </svg>



              </span> <span>{{ 'Beacons' }}</span>
            </a>
            <a *ngIf="_commonService.checkPrivilegeModule('nfc')"  mat-list-item [routerLinkActive]="'active'" [routerLink]="['/nfc']">
              <span class="svg-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="16.976" viewBox="0 0 20 16.976">
                  <g id="layer1" transform="translate(-115.17 -918.966)">

                    <path id="path3055"
                      d="M131.9,935.829a1.363,1.363,0,0,1-.4-.317,1.509,1.509,0,0,1-.207-.437,1.052,1.052,0,0,1-.027-.417c.022-.091.154-.436.294-.766s.376-.979.525-1.443.339-1.164.422-1.556.195-1.058.248-1.479a19.857,19.857,0,0,0,0-3.9c-.052-.414-.15-1.017-.216-1.341s-.2-.885-.3-1.246-.361-1.1-.579-1.639a4.136,4.136,0,0,1-.393-1.258.966.966,0,0,1,.138-.493,1.7,1.7,0,0,1,.343-.378.936.936,0,0,1,.529-.185,1.962,1.962,0,0,1,.474.012,1.235,1.235,0,0,1,.385.248,2.364,2.364,0,0,1,.506.836c.151.345.38.933.509,1.306s.327,1.049.44,1.5.262,1.159.33,1.569.151,1.068.184,1.461.06,1.091.06,1.55-.027,1.157-.06,1.55-.116,1.051-.184,1.461-.225,1.147-.35,1.639-.353,1.243-.508,1.669-.391,1-.527,1.281a1.978,1.978,0,0,1-.472.681.852.852,0,0,1-.566.2.986.986,0,0,1-.6-.108Zm-3.744-1.607a1.481,1.481,0,0,1-.457-.348.935.935,0,0,1-.315-.576,1.108,1.108,0,0,1,.15-.738c.106-.248.31-.789.452-1.2a13.811,13.811,0,0,0,.41-1.491,16.1,16.1,0,0,0,.217-1.6,9.37,9.37,0,0,0,0-1.669c-.037-.448-.134-1.143-.215-1.546s-.231-.992-.333-1.31-.287-.813-.412-1.1a6.158,6.158,0,0,1-.267-.708,1.139,1.139,0,0,1,.033-.449,1.255,1.255,0,0,1,.308-.5,1.442,1.442,0,0,1,.446-.3,1.362,1.362,0,0,1,.48-.04,1.224,1.224,0,0,1,.515.2,1.4,1.4,0,0,1,.44.563c.107.214.3.677.434,1.028s.331.993.442,1.426.25,1.1.309,1.473a9.049,9.049,0,0,1,.191,2,11.44,11.44,0,0,1-.223,2.411c-.076.44-.226,1.125-.335,1.52s-.308,1-.442,1.345-.318.772-.409.951a1.387,1.387,0,0,1-.413.5,1,1,0,0,1-.535.193,1.621,1.621,0,0,1-.472-.037Zm-4.048-2.138a1.644,1.644,0,0,1-.31-.116c-.073-.039-.73-.532-1.461-1.1l-2.522-1.947c-.656-.506-1.411-1.064-1.678-1.239a2.671,2.671,0,0,0-.581-.318c-.078,0-.095.076-.095.433a7.318,7.318,0,0,0,.149,1.147,7.105,7.105,0,0,1,.149,1.128,1.436,1.436,0,0,1-.124.672,1.181,1.181,0,0,1-.3.383,1.07,1.07,0,0,1-.4.156.754.754,0,0,1-.467-.093,2.056,2.056,0,0,1-.485-.4,2.32,2.32,0,0,1-.363-.6,8.838,8.838,0,0,1-.253-.933,6.845,6.845,0,0,1-.2-1.946,6.717,6.717,0,0,1,.2-1.916,5.941,5.941,0,0,1,.284-.954,2.184,2.184,0,0,1,.28-.467,1.31,1.31,0,0,1,.292-.224.868.868,0,0,1,.335-.084.891.891,0,0,1,.4.153c.124.084.94.709,1.812,1.389s2.23,1.733,3.017,2.341,1.516,1.166,1.62,1.242a.421.421,0,0,0,.276.1c.052-.02.112-.184.15-.41.035-.208.079-.529.1-.715a6.127,6.127,0,0,0-.029-.943,9.407,9.407,0,0,0-.205-1.153,9.517,9.517,0,0,0-.328-1,4.7,4.7,0,0,1-.25-.834,1.356,1.356,0,0,1,.007-.646,1.381,1.381,0,0,1,.265-.47.613.613,0,0,1,.5-.241,1.194,1.194,0,0,1,.489.045,1.958,1.958,0,0,1,.477.4,3.669,3.669,0,0,1,.5.754c.112.237.3.711.412,1.055s.257.853.318,1.131a8.1,8.1,0,0,1,0,3.339c-.061.279-.177.718-.258.977s-.241.674-.355.924a3.079,3.079,0,0,1-.338.594,2.3,2.3,0,0,1-.282.249.984.984,0,0,1-.358.139,1.213,1.213,0,0,1-.385-.014Z"
                      transform="translate(0 0)" />
                  </g>
                </svg>



              </span> <span>
                {{ 'NFC' }}
              </span>
            </a>
            <a mat-list-item href="javascript:void(0)" disabled>
              <span class="svg-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" width="20.516" height="19.043" viewBox="0 0 20.516 19.043">
                  <g id="Group_202" data-name="Group 202" transform="translate(-2.389 -3.914)">
                    <g id="Group_201" data-name="Group 201" transform="translate(2.389 3.914)">
                      <g id="Group_200" data-name="Group 200">
                        <g id="Group_199" data-name="Group 199">
                          <g id="Group_15" data-name="Group 15">
                            <g id="Group_13" data-name="Group 13" transform="translate(2.602)">
                              <g id="Group_11" data-name="Group 11" transform="translate(5.993)">
                                <path id="Path_5" data-name="Path 5"
                                  d="M77.963,1160.576a.383.383,0,0,0-.543.542,2.823,2.823,0,0,1,0,3.989.383.383,0,0,0,.543.542A3.591,3.591,0,0,0,77.963,1160.576Z"
                                  transform="translate(-73.855 -1157.518)" />
                                <path id="Path_6" data-name="Path 6"
                                  d="M80.3,1158.238a.384.384,0,0,0-.543.542,4.966,4.966,0,0,1,0,7.015.384.384,0,0,0,.543.542A5.735,5.735,0,0,0,80.3,1158.238Z"
                                  transform="translate(-74.679 -1156.694)" />
                                <path id="Path_7" data-name="Path 7"
                                  d="M82.24,1155.914a.384.384,0,0,0-.271.655,6.994,6.994,0,0,1,0,9.879.383.383,0,0,0,.542.542,7.761,7.761,0,0,0,0-10.962A.382.382,0,0,0,82.24,1155.914Z"
                                  transform="translate(-75.459 -1155.914)" />
                                <circle id="Ellipse_2" data-name="Ellipse 2" cx="1.571" cy="1.571" r="1.571"
                                  transform="translate(0 4.023)" />
                              </g>
                              <g id="Group_12" data-name="Group 12" transform="translate(0 0.019)">
                                <path id="Path_8" data-name="Path 8"
                                  d="M69.886,1165.677a.383.383,0,0,0,.543-.542,2.823,2.823,0,0,1,0-3.989.384.384,0,0,0-.543-.543A3.592,3.592,0,0,0,69.886,1165.677Z"
                                  transform="translate(-64.675 -1157.547)" />
                                <path id="Path_9" data-name="Path 9"
                                  d="M67.209,1166.366a.383.383,0,0,0,.542-.542,4.967,4.967,0,0,1,0-7.015.383.383,0,0,0-.542-.542A5.733,5.733,0,0,0,67.209,1166.366Z"
                                  transform="translate(-63.51 -1156.723)" />
                                <path id="Path_10" data-name="Path 10"
                                  d="M64.946,1167.13a.383.383,0,0,0,.271-.655,6.992,6.992,0,0,1,0-9.878.383.383,0,1,0-.543-.542,7.761,7.761,0,0,0,0,10.963A.384.384,0,0,0,64.946,1167.13Z"
                                  transform="translate(-62.408 -1155.943)" />
                                <circle id="Ellipse_3" data-name="Ellipse 3" cx="1.571" cy="1.571" r="1.571"
                                  transform="translate(6.177 4.022)" />
                              </g>
                            </g>
                            <g id="Group_14" data-name="Group 14" transform="translate(0 14.123)">
                              <rect id="Rectangle_1" data-name="Rectangle 1" width="20.516" height="4.92" rx="1.26" />
                              <circle id="Ellipse_4" data-name="Ellipse 4" cx="0.799" cy="0.799" r="0.799"
                                transform="translate(17.148 1.661)" />
                            </g>
                            <rect id="Rectangle_2" data-name="Rectangle 2" width="1.284" height="7.277" rx="0.611"
                              transform="translate(9.616 7.686)" />
                          </g>
                        </g>
                      </g>
                    </g>
                  </g>
                </svg>

              </span> <span>
                {{ 'Gateways' }}
              </span>
            </a>
          </mat-nav-list>
<<<<<<< HEAD
        </mat-expansion-panel> -->

        <!--  <mat-expansion-panel [class.mat-elevation-z0]="true" dense>
          <mat-nav-list dense>

          </mat-nav-list>
        </mat-expansion-panel> -->

      </mat-nav-list>

    </div>
